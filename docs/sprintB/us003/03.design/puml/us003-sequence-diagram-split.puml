@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "System Administrator" as ADM
participant ":RegisterEmployeeUI" as UI
participant ":RegisterEmployeeController" as CTRL
participant "data\n:Data" as DATA

activate ADM

    ADM -> UI : asks to register a new employee

    activate UI

        UI -> CTRL** : register
        UI -> CTRL : getAgency()
        ref over CTRL
            Get Agency List

        end ref

        activate CTRL

            CTRL --> UI : AgencyList
        deactivate CTRL

        UI --> ADM : shows agency list and asks to select one
    deactivate UI

    ADM -> UI : selects an agency
    activate UI

    UI -> CTRL : getRole()
            ref over CTRL
                Get Role List

            end ref

            activate CTRL

                CTRL --> UI : RoleList
            deactivate CTRL

            UI --> ADM : shows role list and asks to select one
        deactivate UI

        ADM -> UI : selects a role
        activate UI

        UI --> ADM : requests data
    deactivate UI

    ADM -> UI : types requested data (name, citizen \ncard number, tax number, address,\n email address, contact number)
        activate UI

            UI --> ADM : shows selected agency, role and requested data
        deactivate UI

        ADM -> UI : submits data
        activate UI

        UI -> CTRL : RegisterEmployee(name, citizen \ncard number, tax number, address,\n email address, contact number)
        activate CTRL

            CTRL -> CTRL : getData(data)
            activate CTRL

                ref over CTRL
                    Get Data Object

                end ref

                CTRL --> CTRL : data
            deactivate CTRL

            CTRL -> CTRL : getEmployeeFromSession()
            activate CTRL

                ref over CTRL
                    Get Employee

                end ref
                CTRL -> CTRL : employee
            deactivate CTRL

            CTRL -> DATA: data(name, citizen \ncard number, tax number, address,\n email address, contact number)
            activate DATA

                ref over DATA
                    Register Employee

                end

                DATA --> CTRL : register
            deactivate DATA

            CTRL --> UI: register
            deactivate CTRL
            UI --> ADM: displays operation success
    deactivate UI

deactivate ADM

@enduml