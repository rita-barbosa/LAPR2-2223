@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title System Sequence Diagram (SSD) - US001

autonumber

actor "Unregistered user" as User
participant ":System" as System

activate User

    User -> System : asks to display listed properties
    activate System

    System --> User : display listed properties by most recent added
    deactivate System

    opt type of business

        User -> System : asks to select type of business
        activate System

        System --> User : requests data
        deactivate System

        User -> System : selects data (BusinessType)
        activate System

        System --> User : display all the listed properties, according to the \ncriteria chosen
        deactivate System
    end


    opt type of property

        User -> System : asks to select type of property
        activate System

        System --> User : requests data
        deactivate System

        alt propertyType = land

        User -> System : selects data (propertyType)
        activate System

        System --> User : display all the listed properties, according to the \ncriteria chosen
        deactivate System

        else propertyType = apartment || propertyType = house

         User -> System : selects data (propertyType)
         activate System

         System --> User : display all the listed properties, according to the \ncriteria chosen
         deactivate System

         opt number of bedrooms

         User -> System : asks to select number of bedrooms
         activate System

         System --> User : requests data
         deactivate System

         User -> System : selects data (numberBedrooms)
         activate System

         System --> User : display all the listed properties, according to the \ncriteria chosen
         deactivate System

         end

        end

    end

    opt number of bedrooms (numberBedrooms = null && properType != land)

        User -> System : asks to select number of bedrooms
        activate System

        System --> User : requests data
        deactivate System

        User -> System : selects data (numberBedrooms)
        activate System

        System --> User : display all the listed properties, according to the \ncriteria chosen
        deactivate System

    end

    opt price

        User -> System : asks to sort properties by price
        activate System

        System --> User : request data
        deactivate System

        User -> System : selects data (price)
        activate System

        System --> User :  asks to select data (sortingType)
        deactivate System

        User -> System : select data (sortingType)
        activate System

        System --> User : display all the listed properties, according to the \ncriteria chosen
        deactivate System
    end

    opt city
        User -> System : asks to sort properties by city
        activate System

        System --> User : request data
        deactivate System

        User -> System : selects data (city)
        activate System

        System --> User :  asks to select data (sortingType)
        deactivate System

        User -> System : select data (sortingType)
        activate System

        System --> User : display all the listed properties, according to the \ncriteria chosen
        deactivate System
    end

    opt state
        User -> System : asks to sort properties by state
        activate System

        System --> User : request data
        deactivate System

        User -> System : selects data (state)
        activate System

        System --> User :  asks to select data (sortingType)
        deactivate System

        User -> System : select data (sortingType)
        activate System

        System --> User : display all the listed properties, according to the \ncriteria chosen
        deactivate System
    end


@enduml